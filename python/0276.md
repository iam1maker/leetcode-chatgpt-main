题目编号：276

题目：栅栏涂色

难度：中等

考察范围：动态规划

题干：

你需要给一个长度为 n 的栅栏涂上颜色，这个栅栏有 k 种颜色可以选择。你需要保证相邻的两个栅栏颜色不同，因为这样看起来更漂亮。

你需要计算出涂完整个栅栏的方案数，注意这里的方案数需要对 10^9 + 7 取模。

解题思路：

这道题可以用动态规划来解决。

我们定义两个状态：

- same[i] 表示第 i 根栅栏和第 i-1 根栅栏颜色相同的方案数。
- diff[i] 表示第 i 根栅栏和第 i-1 根栅栏颜色不同的方案数。

对于第 i 根栅栏，如果和第 i-1 根栅栏颜色相同，那么第 i-1 根栅栏的颜色必须和第 i-2 根栅栏的颜色不同，否则就会出现三个相邻的栅栏颜色相同的情况。因此，same[i] = diff[i-1]。

对于第 i 根栅栏，如果和第 i-1 根栅栏颜色不同，那么第 i-1 根栅栏的颜色可以和第 i-2 根栅栏的颜色相同或者不同，因此，diff[i] = (same[i-1] + diff[i-1]) * (k-1)。

最终的方案数就是 same[n-1] + diff[n-1]。

解决方案：

```python
class Solution:
    def numWays(self, n: int, k: int) -> int:
        if n == 0:
            return 0
        if n == 1:
            return k
        same = [0] * n
        diff = [0] * n
        same[0] = k
        diff[0] = k
        diff[1] = k * (k-1)
        for i in range(2, n):
            same[i] = diff[i-1]
            diff[i] = (same[i-1] + diff[i-1]) * (k-1)
        return same[n-1] + diff[n-1]
```

算法复杂度：时间复杂度为 O(n)，空间复杂度为 O(n)。