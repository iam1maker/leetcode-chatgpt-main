题目编号：503

题目：下一个更大元素 II

难度：中等

考察范围：栈、数组

题干：给定一个循环数组（最后一个元素的下一个元素是数组的第一个元素），输出每个元素的下一个更大元素。数字 x 的下一个更大的元素是指数组中比 x 大的第一个元素，这个下一个更大元素的位置要在距离原位置的最短距离内，也就是说，对于每个 i，需要找到距离位置 i 最近的比 nums[i] 大的元素，如果没有找到就输出 -1。

解题思路：本题可以使用单调栈来解决。由于是循环数组，我们可以将原数组复制一份接在原数组的末尾，这样就可以将循环数组转化为普通数组。接下来，我们可以使用单调栈来找到每个元素的下一个更大元素。具体来说，我们可以从后往前遍历数组，对于每个元素，我们将其下标入栈。如果当前元素比栈顶元素大，说明栈顶元素的下一个更大元素就是当前元素，我们可以将栈顶元素出栈，并记录其下一个更大元素为当前元素。最后，我们遍历完整个数组，栈中剩余的元素下一个更大元素均为 -1。

解决方案：

```python
class Solution:
    def nextGreaterElements(self, nums: List[int]) -> List[int]:
        n = len(nums)
        res = [-1] * n
        stack = []
        # 遍历两次数组
        for i in range(2 * n - 1, -1, -1):
            while stack and nums[stack[-1]] <= nums[i % n]:
                stack.pop()
            if stack:
                res[i % n] = nums[stack[-1]]
            stack.append(i % n)
        return res
```

算法复杂度：时间复杂度为 O(n)，空间复杂度为 O(n)。其中，n 为数组的长度。