题目编号：757

题目：设置交集大小至少为2

难度：困难

考察范围：贪心算法

题干：给定一个由一些区间组成的集合，要求把其中一些重叠的区间合并成一个区间，使得最终的集合中任意两个区间的交集都至少为2。输出方案的最小数量。

解题思路：贪心算法

首先将所有区间按照右端点从小到大排序，然后从左到右遍历每个区间，维护一个变量 p 表示当前区间的右端点，以及一个变量 q 表示上一个区间的右端点。如果当前区间的左端点小于等于 q，说明当前区间和上一个区间有交集，此时需要将它们合并成一个区间。具体来说，如果当前区间的左端点小于等于 p，则将 p 更新为当前区间的右端点；否则，将 q 更新为 p，将 p 更新为当前区间的右端点。如果当前区间和上一个区间没有交集，将 p 更新为当前区间的右端点，q 更新为 p，并将答案加 1。最后返回答案即可。

解决方案：

```python
class Solution:
    def intersectionSizeTwo(self, intervals: List[List[int]]) -> int:
        intervals.sort(key=lambda x: x[1])  # 按右端点从小到大排序
        p, q = -1, -1  # p 表示当前区间的右端点，q 表示上一个区间的右端点
        ans = 0
        for a, b in intervals:
            if a <= q:  # 当前区间和上一个区间有交集
                if a <= p:  # 将当前区间合并到上一个区间中
                    p = b
                else:  # 将当前区间作为新的区间
                    q, p = p, b
                    ans += 1
            else:  # 当前区间和上一个区间没有交集
                q, p = b - 1, b
                ans += 2
        return ans
```

算法复杂度：时间复杂度为 O(n\log n)，空间复杂度为 O(1)。