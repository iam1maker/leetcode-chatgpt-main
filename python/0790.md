题目编号：790

题目：多米诺和托米诺平铺

难度：中等

考察范围：递归、动态规划

题干：给定一个 2 x n 的板子和若干个大小为 1 x 2 的多米诺骨牌，其中多米诺骨牌可以横放也可以竖放。请你编写一个程序，计算给定板子上可以放多少块多米诺骨牌？（一个 2 x n 的板子恰好可以容纳若干个大小为 1 x 2 的多米诺骨牌）

解题思路：这是一道典型的动态规划问题。我们可以定义状态 dp[i] 表示填满 2 x i 的矩形所需的多米诺骨牌数目。对于第 i 列，我们有两种填法：

1.使用一块横着的多米诺骨牌覆盖前两行，这种情况下，第 i-1 列必须也使用一块横着的多米诺骨牌覆盖前两行，因此前面的状态是 dp[i-2]。

2.使用两块竖着的多米诺骨牌覆盖前两列，这种情况下，前面的状态是 dp[i-1]。

因此，状态转移方程为 dp[i] = dp[i-1] + dp[i-2]，初始状态为 dp[0] = 1，dp[1] = 1。

解决方案：

```python
class Solution:
    def numTilings(self, n: int) -> int:
        if n == 1:
            return 1
        if n == 2:
            return 2
        dp = [0] * (n+1)
        dp[0] = 1
        dp[1] = 1
        dp[2] = 2
        for i in range(3, n+1):
            dp[i] = dp[i-1] + dp[i-2] + 2 * sum(dp[:i-2])
        return dp[n] % (10**9 + 7)
```

算法复杂度：时间复杂度为 O(n)，空间复杂度为 O(n)。