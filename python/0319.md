题目编号：319

题目：灯泡开关

难度：中等

考察范围：数学、逻辑思维

题干：

初始时有 n 个灯泡关闭。第 1 轮，你打开所有的灯泡。第 2 轮，每两个灯泡你关闭一次。第 3 轮，每三个灯泡切换一次开关（开变为关，关变为开）。第 i 轮，每 i 个灯泡切换一次开关。对于第 n 轮，你只切换最后一个灯泡的开关。找出 n 轮后有多少个亮着的灯泡。

解题思路：

对于第 i 轮，每 i 个灯泡切换一次开关，也就是说，第 i 轮只会改变 i 的倍数位置上的灯泡的状态。因此，我们可以用一个数组来记录每个灯泡的状态，初始时都为关闭状态，然后模拟每一轮的操作，最后统计亮着的灯泡数量即可。

对于第 i 轮，我们可以从 i 开始，每次加 i，将对应位置上的灯泡状态取反。具体实现可以用一个 for 循环来实现。

解决方案：

```python
class Solution:
    def bulbSwitch(self, n: int) -> int:
        bulbs = [0] * n  # 初始化灯泡状态，0 表示关闭，1 表示打开
        for i in range(1, n+1):
            for j in range(i-1, n, i):
                bulbs[j] ^= 1  # 取反对应位置上的灯泡状态
        return sum(bulbs)  # 统计亮着的灯泡数量
```

算法复杂度：时间复杂度为 O(n^2)，空间复杂度为 O(n)。