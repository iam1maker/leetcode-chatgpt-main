题目编号：957

题目：N 天后的牢房

难度：中等

考察范围：模拟、哈希表

题干：

8 个牢房排成一排，每个房间要么是空的，要么放着一个囚犯。

每天，无论牢房是空的还是有囚犯，都会根据以下规则进行更改：

如果一个囚犯两边都是空的，那么他就会逃跑。
否则，他不会逃跑。
更具体地，如果囚犯左右相邻都是空房间，那么他就会逃跑。

否则，他不会逃跑。

每天的更改都是同时发生的，也就是说，囚犯可以看到其他囚犯是否逃跑，如果一个囚犯在某一天逃跑，他的邻居们在同一天就能看到他不见了。

给定一个表示牢房初始状态的数组 cells，和一个整数 N，表示牢房的总天数。

返回数组 cells 的最终状态。

解题思路：

题目中的牢房数量只有 8 个，因此可以直接暴力模拟每一天的牢房状态。

由于牢房数量较少，因此可以使用哈希表来存储每一天的牢房状态，如果某一天的牢房状态已经出现过，则说明出现了循环，可以直接跳过后面的天数。

解决方案：

```python
class Solution:
    def prisonAfterNDays(self, cells: List[int], N: int) -> List[int]:
        # 存储每一天的牢房状态
        seen = {}
        while N > 0:
            # 如果当前牢房状态已经出现过，则说明出现了循环，可以直接跳过后面的天数
            if str(cells) in seen:
                N %= seen[str(cells)] - N
            seen[str(cells)] = N

            # 计算下一天的牢房状态
            next_cells = [0] * 8
            for i in range(1, 7):
                if cells[i-1] == cells[i+1]:
                    next_cells[i] = 1
            cells = next_cells
            N -= 1

        return cells
```

算法复杂度：时间复杂度为 O(N)，空间复杂度为 O(N)。