题目编号：856

题目：括号的分数

难度：中等

考察范围：栈、字符串

题干：给定一个平衡括号字符串 S，按下述规则计算该字符串的分数：

() 得 1 分。
AB 得 A + B 分，其中 A 和 B 是平衡括号字符串。
(A) 得 2 * A 分，其中 A 是平衡括号字符串。

解题思路：使用栈来解决问题，遍历字符串，遇到左括号就入栈，遇到右括号就出栈，如果出栈的是左括号，那么就是()，得1分，如果出栈的是数字，那么就是(A)得2*A分，如果出栈的是右括号，那么就是AB得A+B分。

解决方案：

```python
class Solution:
    def scoreOfParentheses(self, S: str) -> int:
        stack = [0] # 初始化栈
        for c in S:
            if c == '(':
                stack.append(0) # 遇到左括号就入栈
            else:
                last = stack.pop() # 遇到右括号就出栈
                if last == 0: # 如果出栈的是左括号，那么就是()，得1分
                    stack[-1] += 1
                else: # 如果出栈的是数字，那么就是(A)得2*A分
                    stack[-1] += 2 * last
        return stack.pop() # 返回栈顶元素即为答案
```

算法复杂度：时间复杂度为O(n)，空间复杂度为O(n)。