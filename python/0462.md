题目编号：462

题目：最少移动次数使数组元素相等 II

难度：中等

考察范围：数学、排序

题干：

给定一个非空整数数组，找到使所有数组元素相等所需的最小移动次数，其中每次移动可将选定的一个元素加1或减1。 您可以假设数组的长度最多为10000。

例如：

输入：[1,2,3]

输出：2

解释：

只需要将2变为1即可，移动次数为2。

输入：[1,10,2,9]

输出：16

解释：

将1变为9，将10变为9，移动次数为8+8=16。

解题思路：

首先，我们需要知道如何求出一个数组的中位数。可以使用快速选择算法，时间复杂度为 O(n)。

然后，我们可以证明，对于任意一个数 x，将数组中所有数变为 x 的移动次数为 sum(abs(nums[i]-x))，其中 abs 表示绝对值，sum 表示求和。

因此，我们可以枚举中位数 x，计算出将数组中所有数变为 x 的移动次数，取最小值即可。

解决方案：

```python
class Solution:
    def minMoves2(self, nums: List[int]) -> int:
        n = len(nums)
        nums.sort()
        median = nums[n//2] # 求中位数
        return sum(abs(num-median) for num in nums) # 计算移动次数
```

算法复杂度：时间复杂度为 O(nlogn)，其中 n 为数组长度，主要是排序的时间复杂度；空间复杂度为 O(1)，只需要常数级别的额外空间。