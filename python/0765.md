题目编号：765

题目：情侣牵手

难度：困难

考察范围：贪心算法

题干：有 n 对情侣坐在连续排列的 2n 个座位上，男性编号为 0, 2, ..., 2n-2，女性编号为 1, 3, ..., 2n-1。每一对情侣都可以坐在同一张座位上。一个人的编号与他/她坐的座位编号相同。例如，人 0 坐在编号为 0 的座位上。当且仅当有一对情侣坐在相邻的座位上，他们就可以形成一个恰好包含这两个人的情侣对。形成情侣对后，他们就离开了这个队伍。需要你编写一个函数，来计算队伍中最少需要多少次调换座位，才能使每对情侣都坐在相邻座位上，而不是分开。

解题思路：贪心算法

我们可以使用贪心算法来解决这个问题。我们可以从左到右遍历所有的座位，对于每个座位，我们都将其与其右侧的座位进行比较，如果这两个座位不是一对情侣，那么我们就需要将这个座位与其右侧的情侣的座位进行交换，使得这两个座位成为一对情侣。我们可以使用一个哈希表来记录每个情侣的位置，这样我们就可以在 O(1) 的时间内找到一个情侣的位置。

解决方案：

```python
class Solution:
    def minSwapsCouples(self, row: List[int]) -> int:
        n = len(row)
        pos = {}
        for i in range(n):
            pos[row[i]] = i
        ans = 0
        for i in range(0, n, 2):
            x = row[i]
            y = x + 1 if x % 2 == 0 else x - 1
            if row[i + 1] != y:
                j = pos[y]
                row[i + 1], row[j] = row[j], row[i + 1]
                pos[row[i + 1]], pos[row[j]] = i + 1, j
                ans += 1
        return ans
```

算法复杂度：时间复杂度为 O(n)，空间复杂度为 O(n)。