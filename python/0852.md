题目编号：852

题目：山脉数组的峰顶索引

难度：简单

考察范围：数组、二分查找

题干：给定一个山脉数组，返回数组中最大值所在的索引。山脉数组是指其元素呈先增后减的序列。假设山脉数组的长度为 n，则可以将其视为由两部分组成：前 n/2 个元素是单调递增的，后 n/2 个元素是单调递减的。（若有多个峰顶，返回任何一个即可。）

解题思路：二分查找

由于题目中给出的山脉数组是先增后减的，因此可以考虑使用二分查找的方法来寻找峰顶。

具体来说，我们可以考虑以下几种情况：

1. 如果当前位置 i 满足 nums[i] < nums[i+1]，那么峰顶一定在 i+1 右侧，因此可以将左指针 l 移动到 i+1 的位置。

2. 如果当前位置 i 满足 nums[i] > nums[i+1]，那么峰顶一定在 i 左侧，因此可以将右指针 r 移动到 i 的位置。

3. 如果当前位置 i 满足 nums[i] 既不小于 nums[i+1]，也不大于 nums[i-1]，那么说明 i 就是峰顶，直接返回 i 即可。

解决方案：

```python
class Solution:
    def peakIndexInMountainArray(self, nums: List[int]) -> int:
        n = len(nums)
        l, r = 0, n - 1
        while l < r:
            mid = (l + r) // 2
            if nums[mid] < nums[mid+1]:
                l = mid + 1
            else:
                r = mid
        return l
```

算法复杂度：时间复杂度为 O(log n)，空间复杂度为 O(1)。