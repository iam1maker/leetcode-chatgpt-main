题目编号：330

题目：按要求补齐数组

难度：困难

考察范围：贪心算法

题干：

给定一个已排序的正整数数组 nums，和一个正整数 n 。从 [1, n] 区间内选取任意个数字补充到 nums 中，使得 [1, n] 区间内的任何数字都可以用 nums 中某几个数字的和来表示。请输出满足上述要求的最少需要补充的数字个数。

解题思路：

首先，我们需要明确一个结论：如果区间 [1, x-1] 内的所有数字都已经被覆盖，且 x 在数组中，则区间 [1, 2x-1] 内的所有数字也都被覆盖。

假设区间 [1, x-1] 内的所有数字都已经被覆盖，且 x 在数组中，对于任意 1 <= y < x，y 已经被覆盖，x 可以加上 y 得到 x+y，区间 [x+1, x+y-1] 也被覆盖。因此区间 [1, 2x-1] 内的所有数字都被覆盖。

基于上述结论，我们可以在给定的数组中，维护一个变量 miss，表示区间 [1, miss) 内的所有数字都被覆盖，对于 nums 中的每个数 num，有以下两种情况：

1. num <= miss，此时区间 [1, miss+num) 内的所有数字都被覆盖，因此令 miss += num。

2. num > miss，此时区间 [1, miss+num) 内的所有数字都被覆盖，因此需要在数组中补充一个数，令 miss += miss，这样区间 [1, miss) 内的所有数字都被覆盖。

最终，当 miss > n 时，表示区间 [1, n] 内的所有数字都被覆盖，返回补充的数字个数即可。

解决方案：

```python
class Solution:
    def minPatches(self, nums: List[int], n: int) -> int:
        miss, i, res = 1, 0, 0
        while miss <= n:
            if i < len(nums) and nums[i] <= miss:
                miss += nums[i]
                i += 1
            else:
                miss += miss
                res += 1
        return res
```

算法复杂度：时间复杂度为 O(logn)，空间复杂度为 O(1)。